{% extends "base.html" %}

{% block content %}
<div class="row align-items-center mb-5">
    <div class="col-lg-8">
        <h1 class="display-3 fw-bold neon-text-glitch mb-3">–°–ò–°–¢–ï–ú–ê –ê–ö–¢–ò–í–ù–ê</h1>
        <p class="lead text-info">
            –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ, <span class="text-white fw-bold">{{ current_user.username if current_user.is_authenticated else 'GUEST_USER' }}</span>. 
            –ü—Ä–æ—Ç–æ–∫–æ–ª–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è–º–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ. –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ –Ω–µ–π—Ä–æ–º–µ—Ä–µ–∂–µ—é —Å—Ç–∞–±—ñ–ª—å–Ω–∞.
        </p>
        <div class="mt-4">
            <a href="/tasks" class="btn btn-neon-primary btn-lg me-3">üöÄ –ó–ê–ü–£–°–¢–ò–¢–ò –ó–ê–í–î–ê–ù–ù–Ø</a>
            {% if not current_user.is_authenticated %}
                <a href="/register" class="btn btn-neon-sm">–Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø (–†–ï–Ñ–°–¢–†–ê–¶–Ü–Ø)</a>
            {% endif %}
        </div>
    </div>
    <div class="col-lg-4 d-none d-lg-block">
        <div class="cyber-card glass-panel p-3 font-monospace" style="font-size: 0.8rem; opacity: 0.8;">
            <div class="text-success border-bottom border-success mb-2">>> SYSTEM LOGS // LIVE</div>
            <div class="text-muted">> Connecting to db... <span class="text-success">OK</span></div>
            <div class="text-muted">> Loading styles... <span class="text-success">OK</span></div>
            <div class="text-muted">> User_Auth... <span class="text-warning">{{ 'VERIFIED' if current_user.is_authenticated else 'PENDING' }}</span></div>
            <div class="text-muted">> Cyber_Grid... <span class="text-success">ACTIVE</span></div>
            <div class="text-neon-pink mt-2 blink-cursor">> Awaiting Input_</div>
        </div>
    </div>
</div>

{% if current_user.is_authenticated %}
<div class="row g-4 text-center">
    <div class="col-md-4">
        <div class="cyber-card glass-panel h-100 py-4" style="border-top: 3px solid var(--neon-cyan);">
            <h5 class="text-muted text-uppercase ls-2">–í—Å—å–æ–≥–æ –∑–∞–≤–¥–∞–Ω—å</h5>
            <h1 class="display-2 fw-bold text-white mb-0" style="text-shadow: var(--glow-cyan);">
                {{ stats.total }}
            </h1>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="cyber-card glass-panel h-100 py-4" style="border-top: 3px solid var(--neon-green);">
            <h5 class="text-muted text-uppercase ls-2">–í–∏–∫–æ–Ω–∞–Ω–æ</h5>
            <h1 class="display-2 fw-bold text-white mb-0" style="text-shadow: 0 0 20px var(--neon-green);">
                {{ stats.completed }}
            </h1>
        </div>
    </div>

    <div class="col-md-4">
        <div class="cyber-card glass-panel h-100 py-4" style="border-top: 3px solid var(--neon-red);">
            <h5 class="text-muted text-uppercase ls-2">–í –æ—á—ñ–∫—É–≤–∞–Ω–Ω—ñ</h5>
            <h1 class="display-2 fw-bold text-white mb-0" style="text-shadow: 0 0 20px var(--neon-red);">
                {{ stats.pending }}
            </h1>
        </div>
    </div>
</div>
{% endif %}

<style>
    .blink-cursor { animation: blink 1s step-end infinite; }
    @keyframes blink { 50% { opacity: 0; } }
    .ls-2 { letter-spacing: 2px; }
</style>
{% endblock %}